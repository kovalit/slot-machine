<h2>Slot Machine</h2>
<p>Пример реализации игрового автомата. Используемые технологии: html, scss, JavaScript, canvas, nodeJs/npm, gulpJs.</p>

<h3>Конфигурация</h3>
<p>
<b>symbolWidth</b>  - ширина элемента;</br/>
<b>symbolHeight</b>  - высота элемента;</br/>
<b>slotCount</b>    - количество слотов (столбцов);</br/>
<b>lineCount</b>   - количество отображаемых строк;</br/>
<b>typeCount</b>   - количество типов элементов;</br/>

<b>centerLine</b>    - номер строки выигрыша;</br/>
<b>availableSymbols</b>   - доступные элементы;</br/>
<b>speed</b>    - скорость движения элементов (смещение за одну итерацию);</br/> 

<b>winAnimationCount</b>   - количество кадров для проигрывания анимации выигрыша;</br/>
<b>stopDelay</b>      - задержка до остановки игры;</br/>
<b>stopSlotDelay</b>    - задержка между остановкой каждого слота;</br/>
<b>winAnimationDelay</b>   - задержка при проигрывании анимации выигрыша.</br/>


<h3>Принцип работы</h3>

<p>Перед началом случайным образом заполняется игровое поле. Его структура имеет вид:</p>
<pre>
field = 
  {
    "1": 
        {
          "1": {"x": 0, "y": 0, "type": "A"},
          "2": {"x": 0, "y": 144, "type": "B"},
          "3": {"x": 0, "y": 288, "type": "C"},
          ...
        }
    "2": 
        {
          "1": {"x": 266, "y": 0, "type": "A"},
          "2": {"x": 266, "y": 144, "type": "B"},
          "3": {"x": 266, "y": 288, "type": "C"},
          ...
        }
      ...  
  }
</pre>



<p>На каждой итерации пересчитывается игровое поле <b>field</b>:  к каждому элементу добавляется смещение равное <b>speed</b>. 
Элементы, которые выходят за пределы видимого игрового поля, переносятся в начало.  
После каждого пересчета происходит отображение элементов в видимой части поля.</p>

<p>По истечении  <b>stopDelay</b>   происходит поочередная остановка барабанов.  
Переменная <b>isFinishTime</b> определяет, что время истекло. 
Но расчет игры продолжается до тех пор, пока позиции элементов не будут доведены до исходного положения.
<b>isFinishCalc</b> означает конец расчётов. Отрисовка последней итерации заканчивается сменой значения <b>isFinishDraw</b>. 
После чего игра прекращается и выполняется проверка выйгрыша.</p>
